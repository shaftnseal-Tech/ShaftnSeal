{% extends 'base.html' %}
{% load static %} 
{% block title %}
 Login 
{% endblock %} 
{% block css %} 
{{ block.super }}

<link rel="stylesheet" href="{% static 'accounts/allform.css' %}" />

{% endblock css %}
{% block content %}

<section class="section-content padding-y" style="min-height: 84vh">
  {% if request.GET.command == 'verification' %}
  <div
    class="container mx-auto alert alert-info text-center"
    role="alert"
    style="max-width: 1024px; margin-top: 100px"
  >
    we have sent you a verification email. Please check your email address
    [{{request.GET.email}}] and verify your email address to continue.
    <br />
    Already verified? <a href="{% url 'login' %}">Login</a>
  </div>
  {% else %}
  <div class="card login-card">
    {% include 'includes/alerts.html' %}
    <div class="card-body">
      <h4 class="card-title">Sign in</h4>
      <form action="{% url 'login' %}" method="POST">
        {% csrf_token %}
        <input type="hidden" name="next" value="{{ next }}">
        <div class="form-group">
          <input
            type="email"
            class="form-control"
            placeholder="Email Address"
            name="email"
            required
            autofocus
          />
        </div>
       
         
          <div class="form-group position-relative">
            <input 
              type="password" 
              class="form-control pe-5" 
              id="passwordInput"
              placeholder="Confirm Password" 
              name="confirm_password" 
              required
            >
            
            <span
              class="position-absolute top-50 end-0 translate-middle-y me-3"
              style="cursor: pointer;"
              onclick="togglePasswordVisibility()"
            >
              <i id="eyeIcon" class="fa-solid fa-eye-slash"></i>
            </span>
          </div>
        <div class="form-group text-right mt-3">
          <a href="{% url 'forgotPassword' %}" class="forgot-link">Forgot password?</a>
        </div>
       
        
        <div class="d-flex justify-content-center mt-4">
          <button type="submit" class="btn btn-login btn-block">Login</button>
        </div>
        <p class="text-center mt-4 signupa">
          Don't have account? <a href="{% url 'register' %}">Sign up</a>
        </p>
      </form>
    </div>
  </div>

 
  <br /><br />
  {% endif %}

</section>

<script>
      
  function togglePasswordVisibility() {
    const passwordInput = document.getElementById("passwordInput");
    const eyeIcon = document.getElementById("eyeIcon");

    if (passwordInput.type === "password") {
      passwordInput.type = "text";
      eyeIcon.classList.remove("fa-eye-slash");
      eyeIcon.classList.add("fa-eye");
    } else {
      passwordInput.type = "password";
      eyeIcon.classList.remove("fa-eye");
      eyeIcon.classList.add("fa-eye-slash");
    }
  }


</script>
{% endblock %}

<!-- Contact Section -->
