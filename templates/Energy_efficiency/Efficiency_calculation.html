{% extends 'base.html' %}
{% load static %}

{% block css %}
{{ block.super }}
<link rel="stylesheet" href="{% static 'Energy_efficiency/ef_calculation.css' %}" />
<style>
    .pdf-section {
        background-color: #ffffff;
        border-radius: 1rem;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        padding: 2rem;
        margin: 2rem auto;
        max-width: 1000px;
    }

    .section-title {
        font-size: 1.75rem;
        font-weight: bold;
        text-align: center;
        margin-bottom: 1.5rem;
    }

    .data-table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 1rem;
    }

    .data-table th,
    .data-table td {
        padding: 12px;
        text-align: center;
        border: 1px solid #dee2e6;
    }

    .pdf-buttons {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-top: 1rem;
    }

    .btn-custom {
        padding: 10px 20px;
        font-weight: 600;
        border-radius: 0.5rem;
        border: none;
        color: #fff;
        background-color: #007bff;
        transition: background-color 0.3s;
        text-decoration: none;
    }

    .btn-custom:hover {
        background-color: #0056b3;
    }

    iframe {
        width: 100%;
        height: 600px;
        border: none;
        border-radius: 1rem;
        margin-top: 1rem;
    }
</style>
{% endblock css %}

{% block content %}
<section class="hero-sections py-5">
    <div class="container text-center mb-5">
        <h1 class="seal display-4 fw-bold" data-text="EnergyEfficiency">Your Output is Here</h1>
        <p class="text-muted">Explore our advanced pump solutions for optimal performance and energy savings.</p>
    </div>

    <!-- Section 1: Data -->
    <div class="pdf-section">
        <h2 class="section-title">Pump Efficiency Data</h2>

        {% if form_data %}
        <table class="data-table">
            <thead>
                <tr>
                    {% for key in form_data.keys %}
                        <th>{{ key|title }}</th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
                <tr>
                    {% for value in form_data.values %}
                        <td>{{ value }}</td>
                    {% endfor %}
                </tr>
            </tbody>
        </table>
        {% else %}
        <p class="text-center text-danger">No form data available.</p>
        {% endif %}

        {% if data_pdf_url %}
        <div class="pdf-buttons">
            <a href="{{ data_pdf_url }}" target="_blank" class="btn-custom">View Data PDF</a>
            <a href="{{ data_pdf_url }}" download class="btn-custom">Download Data PDF</a>
        </div>

        <iframe src="{{ data_pdf_url }}"></iframe>
        {% endif %}
    </div>

    <!-- Section 2: Graph -->
    <div class="pdf-section">
        <h2 class="section-title">Performance Curve</h2>

        {% if Graph_url %}
        <div class="pdf-buttons">
            <a href="{{ Graph_url }}" target="_blank" class="btn-custom">View Graph PDF</a>
            <a href="{{ Graph_url }}" download class="btn-custom">Download Graph PDF</a>
        </div>

        <iframe src="{{ Graph_url }}"></iframe>
        {% else %}
        <p class="text-center text-danger">Graph not available.</p>
        {% endif %}
    </div>
</section>
{% endblock content %}